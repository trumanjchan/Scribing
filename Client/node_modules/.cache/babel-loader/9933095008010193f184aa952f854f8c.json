{"ast":null,"code":"import _slicedToArray from\"/Users/trumanchan/scribing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useMemo,useState,useRef}from\"react\";import{useParams}from\"react-router-dom\";import'./Profile.css';import Navbar from'../../Components/Navbar/Navbar';import MIME from'../../Images/Mime.png';import TableMaker from'../../Components/TableMaker/TableMaker';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios');export default function Profile(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),uName=_useState6[0],setUserName=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),topWPM=_useState8[0],setTopWPM=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),profileMatches=_useState10[0],setProfileMatches=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),matchResponse=_useState12[0],setMatchResponse=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),profileMatchTitle=_useState14[0],setProfileMatchTitle=_useState14[1];var URLParams=useParams();var parts=useMemo(function(){getUserInfo(URLParams.id);setUserName(URLParams.id);setProfileMatchTitle([\"highscores\",\"Match History (All Time)\",\"Match Date\",\"Match Time\",\"WPM\"]);},[]);useEffect(function(){setProfileMatches(parseNameDateTime(matchResponse));},[matchResponse]);function parseNameDateTime(data){if(data.length>0){setFirstName(data[0].firstName);setLastName(data[0].lastName);var resultList=[];var topScore=0;for(var i=0;i<data.length;i++){if(data[i].score>topScore){topScore=data[i].score;}resultList.push([data[i].matchDate.slice(0,10),data[i].matchTime,data[i].score]);}setTopWPM(topScore);return resultList;}}function getUserInfo(ign){axios.get('/user',{params:{user:ign}}).then(function(response){var res=response.data;console.log(res);setMatchResponse(res);}.bind(this)).catch(function(error){console.log(error);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(Navbar,{fName:props.parentUser}),/*#__PURE__*/_jsx(\"div\",{className:\"Profile-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"picture\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Mime\",src:MIME})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Name: \",fName+\" \"+lName]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"IGN: \",uName]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Highest WPM: \",topWPM]})]})]}),/*#__PURE__*/_jsx(TableMaker,{data:profileMatches,title:profileMatchTitle})]})})]});}","map":{"version":3,"sources":["/Users/trumanchan/scribing/Client/src/Pages/Profile/Profile.js"],"names":["React","useEffect","useMemo","useState","useRef","useParams","Navbar","MIME","TableMaker","axios","require","Profile","props","fName","setFirstName","lName","setLastName","uName","setUserName","topWPM","setTopWPM","profileMatches","setProfileMatches","matchResponse","setMatchResponse","profileMatchTitle","setProfileMatchTitle","URLParams","parts","getUserInfo","id","parseNameDateTime","data","length","firstName","lastName","resultList","topScore","i","score","push","matchDate","slice","matchTime","ign","get","params","user","then","response","res","console","log","bind","catch","error","parentUser"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport './Profile.css';\nimport Navbar from '../../Components/Navbar/Navbar';\nimport MIME from '../../Images/Mime.png';\nimport TableMaker from '../../Components/TableMaker/TableMaker';\nconst axios = require('axios');\n\nexport default function Profile(props) {\n  const [fName, setFirstName] = useState(\"\");\n  const [lName, setLastName] = useState(\"\");\n  const [uName, setUserName] = useState(\"\");\n  const [topWPM, setTopWPM] = useState(null);\n  const [profileMatches, setProfileMatches] = useState(null);\n  const [matchResponse, setMatchResponse] = useState([]);\n  const [profileMatchTitle, setProfileMatchTitle] = useState([]);\n\n  const URLParams = useParams();\n  const parts = useMemo(() => {\n    getUserInfo(URLParams.id);\n    setUserName(URLParams.id);\n    setProfileMatchTitle([\"highscores\",\"Match History (All Time)\",\"Match Date\",\"Match Time\",\"WPM\"]);\n  }, []);\n\n  useEffect(() => {\n    setProfileMatches(parseNameDateTime(matchResponse));\n  }, [matchResponse]);\n\n  function parseNameDateTime(data){\n    if(data.length > 0){\n      setFirstName(data[0].firstName);\n      setLastName(data[0].lastName);\n      let resultList = []\n      var topScore = 0;\n      for(var i = 0; i < data.length; i++){\n        if(data[i].score > topScore){\n          topScore = data[i].score\n        }\n        resultList.push([data[i].matchDate.slice(0,10), data[i].matchTime, data[i].score])\n      }\n      setTopWPM(topScore);\n      return resultList\n    }\n  }\n\n  function getUserInfo(ign){\n    axios.get('/user', {\n    params: {\n      user: ign\n    }\n  })\n    .then(function (response) {\n      let res = response.data;\n      console.log(res)\n      setMatchResponse(res);\n    }.bind(this))\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n    return (\n      <div className=\"Profile\">\n        <Navbar fName={props.parentUser}/>\n        <div className=\"Profile-container\">\n          <div className=\"display\">\n            <div className='profileinfo'>\n              <div className='picture'>\n                <img alt=\"Mime\" src={MIME}/>\n              </div>\n              <div className='info'>\n                <div>Name: {fName + \" \" + lName}</div>\n                <div>IGN: {uName}</div>\n                <div>Highest WPM: {topWPM}</div>\n              </div>\n            </div>\n            <TableMaker data={profileMatches} title={profileMatchTitle}/>\n          </div>\n        </div>\n      </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}